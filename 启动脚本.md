# DZVOTE 2.0 å¯åŠ¨è„šæœ¬

## å¿«é€Ÿå¯åŠ¨æŒ‡å—

### ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼ˆå®Œæ•´æ­¥éª¤ï¼‰

#### 1. æ„å»ºæ•´ä¸ªé¡¹ç›®

```powershell
# è¿›å…¥backendç›®å½•
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend

# æ„å»ºæ‰€æœ‰æ¨¡å—ï¼ˆåŒ…æ‹¬commonã€activity-serviceã€vote-serviceï¼‰
mvn clean install -DskipTests
```

**é¢„æœŸè¾“å‡º**ï¼š
```
[INFO] BUILD SUCCESS
[INFO] Total time: XX s
```

#### 2. å¯åŠ¨Activity Service

```powershell
# æ–¹å¼1ï¼šä½¿ç”¨Maven
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend\activity-service
mvn spring-boot:run

# æ–¹å¼2ï¼šä½¿ç”¨jaråŒ…
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend\activity-service\target
java -jar activity-service-2.0.0.jar
```

**æˆåŠŸæ ‡å¿—**ï¼š
```
========================================
æ´»åŠ¨ç®¡ç†æœåŠ¡å¯åŠ¨æˆåŠŸï¼
Swaggeræ–‡æ¡£åœ°å€: http://localhost:8081/swagger-ui.html
========================================
```

#### 3. å¯åŠ¨Vote Serviceï¼ˆå¯é€‰ï¼‰

æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼š

```powershell
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend\vote-service
mvn spring-boot:run
```

#### 4. å¯åŠ¨å‰ç«¯

æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼š

```powershell
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\frontend\admin

# é¦–æ¬¡å¯åŠ¨éœ€è¦å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

---

### ç¬¬äºŒæ¬¡åŠä»¥åå¯åŠ¨ï¼ˆå¿«é€Ÿå¯åŠ¨ï¼‰

å¦‚æœå·²ç»æ„å»ºè¿‡ï¼Œå¯ä»¥ç›´æ¥å¯åŠ¨ï¼š

```powershell
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend\activity-service
mvn spring-boot:run

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\frontend\admin
npm run dev
```

---

## è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥è®¿é—®ï¼š

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| **ç®¡ç†åå°** | http://localhost:3000 | Vue3å‰ç«¯ç•Œé¢ |
| **Activity API** | http://localhost:8081/swagger-ui.html | Swaggeræ–‡æ¡£ |
| **Vote API** | http://localhost:8082/swagger-ui.html | Swaggeræ–‡æ¡£ |
| **æµ‹è¯•æ¥å£** | http://localhost:8081/api/activities | æ´»åŠ¨åˆ—è¡¨API |

---

## å¸¸è§é—®é¢˜

### Q1: Mavenæ„å»ºå¤±è´¥ï¼Ÿ

**A:** æ£€æŸ¥æ˜¯å¦å·²ä¿®æ”¹pom.xmlç§»é™¤æœªåˆ›å»ºçš„æ¨¡å—ï¼š

```xml
<modules>
    <module>common</module>
    <module>activity-service</module>
    <module>vote-service</module>
</modules>
```

### Q2: ç«¯å£è¢«å ç”¨ï¼Ÿ

**A:** ä¿®æ”¹application.ymlä¸­çš„ç«¯å£ï¼š

```yaml
server:
  port: 8081  # æ”¹ä¸ºå…¶ä»–å¯ç”¨ç«¯å£
```

### Q3: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

**A:** ç¡®è®¤æ•°æ®åº“å·²åˆ›å»ºå¹¶æ£€æŸ¥è¿æ¥é…ç½®ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/dzvote_v2
    username: root
    password: 123456
```

### Q4: npm installå¾ˆæ…¢ï¼Ÿ

**A:** ä½¿ç”¨å›½å†…é•œåƒï¼š

```bash
npm config set registry https://registry.npmmirror.com
npm install
```

---

## ä½¿ç”¨IDEå¯åŠ¨ï¼ˆæ¨èï¼‰

### IDEAç”¨æˆ·

1. **å¯¼å…¥é¡¹ç›®**
   - File â†’ Open â†’ é€‰æ‹© `æ–°æ¶æ„/backend/pom.xml`
   - ç­‰å¾…Mavenä¾èµ–ä¸‹è½½å®Œæˆ

2. **å¯åŠ¨æœåŠ¡**
   - æ‰¾åˆ° `ActivityServiceApplication.java`
   - å³é”® â†’ Run 'ActivityServiceApplication'

3. **å¯åŠ¨å‰ç«¯**
   - Terminal â†’ æ‰§è¡Œ `cd frontend/admin && npm run dev`

### VS Codeç”¨æˆ·

1. **å®‰è£…æ‰©å±•**
   - Java Extension Pack
   - Spring Boot Extension Pack

2. **å¯åŠ¨æœåŠ¡**
   - æ‰“å¼€ `ActivityServiceApplication.java`
   - ç‚¹å‡» `Run` æŒ‰é’®

---

## å¼€å‘æ¨¡å¼

### çƒ­æ›´æ–°

**åç«¯**ï¼šä¿®æ”¹ä»£ç åï¼ŒMavenä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘

**å‰ç«¯**ï¼šViteæä¾›çƒ­æ¨¡å—æ›¿æ¢(HMR)ï¼Œä¿å­˜å³ç”Ÿæ•ˆ

### è°ƒè¯•æ¨¡å¼

**åç«¯**ï¼š
```bash
mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005"
```

**å‰ç«¯**ï¼šæµè§ˆå™¨F12æŸ¥çœ‹Console

---

## ä¸€é”®å¯åŠ¨è„šæœ¬

### Windowsæ‰¹å¤„ç†è„šæœ¬

åˆ›å»º `start.bat`:

```batch
@echo off
echo Starting DZVOTE 2.0...

REM å¯åŠ¨åç«¯
start cmd /k "cd backend\activity-service && mvn spring-boot:run"

REM ç­‰å¾…5ç§’
timeout /t 5

REM å¯åŠ¨å‰ç«¯
start cmd /k "cd frontend\admin && npm run dev"

echo Services are starting...
echo Backend: http://localhost:8081/swagger-ui.html
echo Frontend: http://localhost:3000
```

### PowerShellè„šæœ¬

åˆ›å»º `start.ps1`:

```powershell
Write-Host "Starting DZVOTE 2.0..." -ForegroundColor Green

# å¯åŠ¨åç«¯
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd backend\activity-service; mvn spring-boot:run"

# ç­‰å¾…5ç§’
Start-Sleep -Seconds 5

# å¯åŠ¨å‰ç«¯
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd frontend\admin; npm run dev"

Write-Host "Services are starting..." -ForegroundColor Yellow
Write-Host "Backend: http://localhost:8081/swagger-ui.html" -ForegroundColor Cyan
Write-Host "Frontend: http://localhost:3000" -ForegroundColor Cyan
```

---

## ç”Ÿäº§éƒ¨ç½²

ä½¿ç”¨Docker Composeï¼š

```bash
cd docker
docker-compose up -d
```

æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
docker-compose logs -f
```

åœæ­¢æœåŠ¡ï¼š
```bash
docker-compose down
```

---

## æœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥åç«¯
curl http://localhost:8081/actuator/health

# æ£€æŸ¥æ•°æ®åº“
mysql -u root -p123456 -e "USE dzvote_v2; SELECT COUNT(*) FROM vote_activity;"
```

---

## å®Œæ•´çš„å¯åŠ¨æµç¨‹ï¼ˆé¦–æ¬¡ï¼‰

```bash
# 1. ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º
mysql -u root -p123456 -e "SHOW DATABASES LIKE 'dzvote_v2';"

# 2. æ„å»ºåç«¯
cd d:\ide\toupiao\ROOT_CodeBuddy\æ–°æ¶æ„\backend
mvn clean install -DskipTests

# 3. å¯åŠ¨åç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd activity-service
mvn spring-boot:run

# 4. å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd ..\..\frontend\admin
npm install

# 5. å¯åŠ¨å‰ç«¯
npm run dev

# 6. æµè§ˆå™¨è®¿é—®
# http://localhost:3000
```

---

**ç¥å¼€å‘é¡ºåˆ©ï¼** ğŸš€
