        <!-- Candidate Modal with Image Upload -->
        <div v-if="showCandidateModal" class="modal-overlay" @click.self="showCandidateModal = false">
            <div class="modal">
                <h2>{{ candidateForm.id ? '编辑候选人' : '新建候选人' }}</h2>
                
                <!-- Image Upload Section -->
                <div class="image-upload-section">
                    <div class="image-preview" @click="triggerFileInput">
                        <img v-if="candidateForm.avatarPreview" :src="candidateForm.avatarPreview" alt="预览">
                        <div v-else class="image-placeholder">
                            <span class="upload-icon">📷</span>
                            <span>点击上传图片</span>
                        </div>
                        <input type="file" ref="fileInput" @change="handleImageUpload" accept="image/*" style="display: none;">
                    </div>
                    <div v-if="candidateForm.avatarPreview" class="image-actions">
                        <button class="btn btn-danger btn-sm" @click="removeImage">删除图片</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>姓名 *</label>
                    <input v-model="candidateForm.name" type="text" placeholder="请输入候选人姓名">
                </div>
                <div class="form-group">
                    <label>描述</label>
                    <textarea v-model="candidateForm.description" rows="3" placeholder="请输入候选人描述"></textarea>
                </div>
                <div class="form-group">
                    <label>排序号</label>
                    <input v-model.number="candidateForm.orderNum" type="number" min="0" placeholder="数值越小排序越靠前">
                </div>
                
                <!-- Progress Bar -->
                <div v-if="uploading" class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" :style="{width: uploadProgress + '%'}"></div>
                    </div>
                    <span>上传中... {{ uploadProgress }}%</span>
                </div>

                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn" @click="saveCandidate" :disabled="uploading">保存</button>
                    <button class="btn btn-danger" @click="showCandidateModal = false">取消</button>
                </div>
            </div>
        </div>
